``devenv`` has first-class integration for [pre-commit](https://pre-commit.com/) via [pre-commit-hooks.nix](https://github.com/cachix/pre-commit-hooks.nix).

## Set up

We recommend a two-step approach for integrating your linters and formatters.

### 1) Make sure that commits are well-formatted at commit time

```nix title="devenv.nix"
{ inputs, ... }:

{
  pre-commit.hooks = {
    # lint shell scripts
    shellcheck.enable = true;
    # execute example shell from Markdown files
    mdsh.enable = true;
    # format Python code
    black.enable = true;
  };
}
```

In action:

```shell-session
$ devenv shell
Building shell ...
Entering shell ...

pre-commit installed at .git/hooks/pre-commit
```

If you commit a Python or Markdown file or a script, these hooks will run at commit time.

### 2) Verify formatting in CI

Run ``devenv test``.

See [the list of all available hooks](reference/options.md#pre-commithooks).

## Managing the `.pre-commit-config.yaml` file

The `.pre-commit-config.yaml` file is a symlink to an autogenerated file in your `devenv` Nix store.
It is not necessary to commit this file to your repository and it can safely be ignored.
This file name will be added to your `.gitignore` file by default when you run `devenv init`.
